<!DOCTYPE html>
<html ng-app="app">

<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="../angular.js"></script>
	<script>
	angular.module("app", [])
		.directive("setFocusIf", function() {
			return {
				link: function($scope, $element, $attr) {
					$scope.$watch($attr.setFocusIf, function(value) {
						if (value) {
							$element[0].focus();
						}
					});
				}
			};
		})
	</script>
</head>

<body>
	<input set-focus-if="hasFocus" ng-focus="msg='has focus'">
	<button ng-click="hasFocus = true">Focus</button>
	<p ng-cloak>{{msg}}</p>
</body>

</html>
